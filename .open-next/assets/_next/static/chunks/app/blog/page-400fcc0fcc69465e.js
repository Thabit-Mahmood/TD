(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3831],{143:(e,a,t)=>{"use strict";t.d(a,{o:()=>l.useLanguage});var l=t(3945)},2515:e=>{e.exports={blogPage:"page_blogPage__oe5rn",hero:"page_hero__GuWPD",blogSection:"page_blogSection__wy_eh",blogGrid:"page_blogGrid__WtWg5",blogCard:"page_blogCard__q1Wws",blogImage:"page_blogImage__2gukj",category:"page_category__1cGaO",blogContent:"page_blogContent__91OCD",blogTitle:"page_blogTitle__1Z1CR",blogExcerpt:"page_blogExcerpt__0k3qw",blogMeta:"page_blogMeta__vUkDz",metaItem:"page_metaItem__6BEMT",readMore:"page_readMore__igD4c",loading:"page_loading__AETGq",translatingBanner:"page_translatingBanner__B0wAC",pulse:"page_pulse__IukYk"}},8508:(e,a,t)=>{Promise.resolve().then(t.bind(t,8700))},8700:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var l=t(5155),s=t(2115),r=t(2619),n=t.n(r),i=t(2694),c=t(143),o=t(2515),g=t.n(o);function d(){let{t:e,language:a,isRTL:t}=(0,c.o)(),[r,o]=(0,s.useState)([]),[d,_]=(0,s.useState)(!0),[m,p]=(0,s.useState)(!1),h=(0,s.useCallback)(async e=>{if("ar"===a)return{...e,translatedTitle:e.title,translatedExcerpt:e.excerpt};try{let[a,t]=await Promise.all([fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.title,targetLang:"en",sourceLang:"ar"})}),fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.excerpt,targetLang:"en",sourceLang:"ar"})})]),l=await a.json(),s=await t.json();return{...e,translatedTitle:l.translatedText||e.title,translatedExcerpt:s.translatedText||e.excerpt}}catch(a){return{...e,translatedTitle:e.title,translatedExcerpt:e.excerpt}}},[a]);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/blog?limit=20",{cache:"no-store"}),t=await e.json();if(t.posts&&(o(t.posts),"en"===a)){p(!0);let e=await Promise.all(t.posts.map(e=>h(e)));o(e),p(!1)}}catch(e){}finally{_(!1)}})()},[a,h]);let x=t?i.kRp:i.dyV;return(0,l.jsxs)("div",{className:g().blogPage,children:[(0,l.jsx)("section",{className:g().hero,children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h1",{children:e("blog.title")}),(0,l.jsx)("p",{children:e("blog.subtitle")})]})}),(0,l.jsx)("section",{className:g().blogSection,children:(0,l.jsx)("div",{className:"container",children:d?(0,l.jsx)("div",{className:g().loading,children:e("common.loading")}):0===r.length?(0,l.jsx)("div",{className:g().loading,children:"ar"===a?"لا توجد مقالات بعد":"No articles yet"}):(0,l.jsxs)(l.Fragment,{children:[m&&(0,l.jsx)("div",{className:g().translatingBanner,children:"ar"===a?"جاري الترجمة...":"Translating..."}),(0,l.jsx)("div",{className:g().blogGrid,children:r.map(t=>(0,l.jsxs)("article",{className:g().blogCard,children:[(0,l.jsx)("div",{className:g().blogImage,children:t.featured_image?(0,l.jsx)("img",{src:t.featured_image,alt:t.translatedTitle||t.title}):(0,l.jsx)("span",{className:g().category,children:e("blog.article")})}),(0,l.jsxs)("div",{className:g().blogContent,children:[(0,l.jsx)("h2",{className:g().blogTitle,children:(0,l.jsx)(n(),{href:"/blog/".concat(t.slug),children:t.translatedTitle||t.title})}),(0,l.jsx)("p",{className:g().blogExcerpt,children:t.translatedExcerpt||t.excerpt}),(0,l.jsxs)("div",{className:g().blogMeta,children:[(0,l.jsxs)("span",{className:g().metaItem,children:[(0,l.jsx)(i.JXP,{}),e("blog.author")]}),(0,l.jsxs)("span",{className:g().metaItem,children:[(0,l.jsx)(i.wIk,{}),(e=>{let t=new Date(e),l=new Intl.DateTimeFormat("ar"===a?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"}).format(t),s=new Intl.DateTimeFormat("ar-SA-u-ca-islamic",{year:"numeric",month:"long",day:"numeric"}).format(t);return"".concat(l," | ").concat(s)})(t.published_at)]})]}),(0,l.jsxs)(n(),{href:"/blog/".concat(t.slug),className:g().readMore,children:[e("blog.readMore"),(0,l.jsx)(x,{})]})]})]},t.id))})]})})})]})}}},e=>{e.O(0,[7736,6603,3193,3945,8441,1255,7358],()=>e(e.s=8508)),_N_E=e.O()}]);