(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5953],{63:(e,a,t)=>{"use strict";var s=t(7260);t.o(s,"useParams")&&t.d(a,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})},143:(e,a,t)=>{"use strict";t.d(a,{o:()=>s.useLanguage});var s=t(3945)},1925:e=>{e.exports={blogPostPage:"page_blogPostPage___bNUi",hero:"page_hero__BUdG8",backLink:"page_backLink__hjQnF",meta:"page_meta__p0rBO",metaItem:"page_metaItem__fXVmH",content:"page_content__tHqa2",article:"page_article__YlLOu",featuredImage:"page_featuredImage__YhEmx",excerpt:"page_excerpt__49i5h",articleContent:"page_articleContent__IkCOL",gallery:"page_gallery__yvmKi",galleryGrid:"page_galleryGrid__4HXmd",galleryItem:"page_galleryItem__6_1wT",backSection:"page_backSection__8i3oh",loading:"page_loading__efvP3",translatingBanner:"page_translatingBanner__dzl_U",pulse:"page_pulse__S658I",errorPage:"page_errorPage__R0uJI"}},4924:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var s=t(5155),r=t(2115),n=t(63),l=t(2619),c=t.n(l),i=t(2694),o=t(143),m=t(1925),d=t.n(m);function g(){let{t:e,language:a,isRTL:t}=(0,o.o)(),l=(0,n.useParams)().slug,[m,g]=(0,r.useState)(null),[u,h]=(0,r.useState)(null),[_,p]=(0,r.useState)(!0),[x,j]=(0,r.useState)(!1),[f,b]=(0,r.useState)(""),[N,y]=(0,r.useState)([]),P=(0,r.useCallback)(async e=>{if("ar"===a)return void h({title:e.title,excerpt:e.excerpt,content:e.content});j(!0);try{let[a,t,s]=await Promise.all([fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.title,targetLang:"en",sourceLang:"ar"})}),fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.excerpt,targetLang:"en",sourceLang:"ar"})}),fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.content,targetLang:"en",sourceLang:"ar"})})]),[r,n,l]=await Promise.all([a.json(),t.json(),s.json()]);h({title:r.translatedText||e.title,excerpt:n.translatedText||e.excerpt,content:l.translatedText||e.content})}catch(a){h({title:e.title,excerpt:e.excerpt,content:e.content})}finally{j(!1)}},[a]);(0,r.useEffect)(()=>{let a=async()=>{try{let a=await fetch("/api/blog/".concat(l),{cache:"no-store"});if(!a.ok){if(404===a.status)b(e("blog.notFound"));else throw Error(e("common.error"));return}let t=await a.json();g(t);let s=[];if(t.featured_image&&s.push(t.featured_image),t.images)try{s.push(...JSON.parse(t.images))}catch(e){}y(s),await P(t)}catch(a){b(a instanceof Error?a.message:e("common.error"))}finally{p(!1)}};l&&a()},[l,e,P]);let v=t?i.dyV:i.kRp;if(_)return(0,s.jsx)("div",{className:d().blogPostPage,children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:d().loading,children:e("common.loading")})})});if(f||!m)return(0,s.jsx)("div",{className:d().blogPostPage,children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:d().errorPage,children:[(0,s.jsx)("h1",{children:"404"}),(0,s.jsx)("p",{children:f||e("blog.notFound")}),(0,s.jsxs)(c(),{href:"/blog",className:"btn btn-primary",children:[(0,s.jsx)(v,{}),e("blog.backToBlog")]})]})})});let S=(null==u?void 0:u.title)||m.title,k=(null==u?void 0:u.excerpt)||m.excerpt,I=(null==u?void 0:u.content)||m.content;return(0,s.jsxs)("div",{className:d().blogPostPage,children:[(0,s.jsx)("section",{className:d().hero,children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)(c(),{href:"/blog",className:d().backLink,children:[(0,s.jsx)(v,{}),e("blog.backToBlog")]}),(0,s.jsx)("h1",{children:S}),x&&(0,s.jsx)("div",{className:d().translatingBanner,children:"ar"===a?"جاري الترجمة...":"Translating..."}),(0,s.jsxs)("div",{className:d().meta,children:[(0,s.jsxs)("span",{className:d().metaItem,children:[(0,s.jsx)(i.JXP,{}),e("blog.author")]}),(0,s.jsxs)("span",{className:d().metaItem,children:[(0,s.jsx)(i.wIk,{}),(e=>{let t=new Date(e),s=new Intl.DateTimeFormat("ar"===a?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"}).format(t),r=new Intl.DateTimeFormat("ar-SA-u-ca-islamic",{year:"numeric",month:"long",day:"numeric"}).format(t);return"".concat(s," | ").concat(r)})(m.published_at)]}),(0,s.jsxs)("span",{className:d().metaItem,children:[(0,s.jsx)(i.Vap,{}),m.views," ",e("blog.views")]})]})]})}),(0,s.jsx)("section",{className:d().content,children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("article",{className:d().article,children:[m.featured_image&&(0,s.jsx)("div",{className:d().featuredImage,children:(0,s.jsx)("img",{src:m.featured_image,alt:S})}),k&&(0,s.jsx)("p",{className:d().excerpt,children:k}),(0,s.jsx)("div",{className:d().articleContent,children:I.split("\n").map((e,a)=>e.trim()&&(0,s.jsx)("p",{children:e},a))}),N.length>1&&(0,s.jsxs)("div",{className:d().gallery,children:[(0,s.jsx)("h3",{children:e("blog.gallery")}),(0,s.jsx)("div",{className:d().galleryGrid,children:N.slice(1).map((e,t)=>(0,s.jsx)("div",{className:d().galleryItem,children:(0,s.jsx)("img",{src:e,alt:"".concat("ar"===a?"صورة":"Image"," ").concat(t+1)})},t))})]})]}),(0,s.jsx)("div",{className:d().backSection,children:(0,s.jsxs)(c(),{href:"/blog",className:"btn btn-secondary",children:[(0,s.jsx)(v,{}),e("blog.backToBlog")]})})]})})]})}},6877:(e,a,t)=>{Promise.resolve().then(t.bind(t,4924))}},e=>{e.O(0,[806,6603,3193,3945,8441,1255,7358],()=>e(e.s=6877)),_N_E=e.O()}]);