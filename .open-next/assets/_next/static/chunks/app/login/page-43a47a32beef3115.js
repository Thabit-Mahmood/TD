(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{17:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>h});var r=s(5155),t=s(2115),o=s(2619),i=s.n(o),n=s(5239),l=s(63),u=s(2694),p=s(3945),c=s(6354),d=s.n(c);function h(){let e=(0,l.useRouter)(),{language:a,t:s}=(0,p.useLanguage)(),[o,c]=(0,t.useState)({email:"",password:""}),[h,g]=(0,t.useState)(!1),[m,_]=(0,t.useState)(!1),[j,x]=(0,t.useState)(""),f=e=>{let{name:a,value:s}=e.target;c(e=>({...e,[a]:s})),x("")},N=async a=>{if(a.preventDefault(),!o.email||!o.password)return void x(s("login.fillAllFields"));_(!0),x("");try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),r=await a.json();if(!a.ok)throw Error(r.error||s("login.error"));e.push("/dashboard")}catch(e){x(e instanceof Error?e.message:s("login.error"))}finally{_(!1)}};return(0,r.jsx)("div",{className:d().authPage,children:(0,r.jsx)("div",{className:d().authContainer,children:(0,r.jsxs)("div",{className:d().authCard,children:[(0,r.jsx)(i(),{href:"/",className:d().logo,children:(0,r.jsx)(n.default,{src:"/logo.png",alt:"TD Logistics",width:150,height:75,className:d().logoImage})}),(0,r.jsx)("h1",{children:s("login.title")}),(0,r.jsx)("p",{className:d().subtitle,children:s("login.subtitle")}),(0,r.jsxs)("form",{onSubmit:N,className:d().form,children:[(0,r.jsxs)("div",{className:d().inputGroup,children:[(0,r.jsx)("label",{children:s("login.email")}),(0,r.jsxs)("div",{className:d().inputWrapper,children:[(0,r.jsx)(u.pHD,{className:d().inputIcon}),(0,r.jsx)("input",{type:"email",name:"email",value:o.email,onChange:f,placeholder:"example@email.com",className:d().input,dir:"ltr",autoComplete:"email"})]})]}),(0,r.jsxs)("div",{className:d().inputGroup,children:[(0,r.jsx)("label",{children:s("login.password")}),(0,r.jsxs)("div",{className:d().inputWrapper,children:[(0,r.jsx)(u.F5$,{className:d().inputIcon}),(0,r.jsx)("input",{type:h?"text":"password",name:"password",value:o.password,onChange:f,placeholder:"••••••••",className:d().input,dir:"ltr",autoComplete:"current-password"}),(0,r.jsx)("button",{type:"button",className:d().togglePassword,onClick:()=>g(!h),"aria-label":h?s("login.hidePassword"):s("login.showPassword"),children:h?(0,r.jsx)(u._NO,{}):(0,r.jsx)(u.Vap,{})})]})]}),(0,r.jsx)("div",{className:d().forgotPassword,children:(0,r.jsx)(i(),{href:"/forgot-password",children:s("login.forgotPassword")})}),j&&(0,r.jsx)("div",{className:d().error,children:j}),(0,r.jsx)("button",{type:"submit",className:d().submitButton,disabled:m,children:m?(0,r.jsx)("span",{className:"spinner"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.dUr,{}),s("login.submit")]})})]})]})})})}},63:(e,a,s)=>{"use strict";var r=s(7260);s.o(r,"useParams")&&s.d(a,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(a,{useSearchParams:function(){return r.useSearchParams}})},6354:e=>{e.exports={authPage:"page_authPage__NAtWX",authContainer:"page_authContainer__B2F2g",authCard:"page_authCard__U5Vgh",logo:"page_logo__3qVzi",logoIcon:"page_logoIcon__M4Zu5",subtitle:"page_subtitle__FWR3R",form:"page_form__FClb7",inputGroup:"page_inputGroup__Bse5q",inputWrapper:"page_inputWrapper__sp83Y",inputIcon:"page_inputIcon__0XiQz",input:"page_input__t1GXH",togglePassword:"page_togglePassword__1F9Tj",forgotPassword:"page_forgotPassword__0RrqK",error:"page_error__oj9FT",submitButton:"page_submitButton__fNFSf",switchAuth:"page_switchAuth__EPehp"}},8371:(e,a,s)=>{Promise.resolve().then(s.bind(s,17))}},e=>{e.O(0,[1685,6603,3193,5239,3945,8441,1255,7358],()=>e(e.s=8371)),_N_E=e.O()}]);