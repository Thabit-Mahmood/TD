(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{116:(a,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>p});var t=s(5155),n=s(2115),i=s(2619),r=s.n(i),c=s(2694),d=s(3945),l=s(3640),_=s(9513),o=s.n(_);function p(){let{language:a,t:e}=(0,d.useLanguage)(),[s,i]=(0,n.useState)([]),[_,p]=(0,n.useState)([]),[g,h]=(0,n.useState)({posts:0,reviews:0,views:0,subscribers:0}),[m,b]=(0,n.useState)(!0),j=async()=>{b(!0);try{let[a,e,s]=await Promise.all([fetch("/api/admin/blog?limit=5",{cache:"no-store"}),fetch("/api/admin/reviews?limit=5",{cache:"no-store"}),fetch("/api/admin/subscribers",{cache:"no-store"})]),t=await a.json(),n=await e.json(),r=await s.json();i(t.posts||[]),p(n.reviews||[]);let c=(t.posts||[]).reduce((a,e)=>a+(e.views||0),0),d=(r.subscribers||[]).filter(a=>1===a.is_active).length;h({posts:t.total||0,reviews:n.total||0,views:c,subscribers:d})}catch(a){}finally{b(!1)}};(0,n.useEffect)(()=>{j()},[]);let u=a=>e("dashboard.status.".concat(a))||a;return(0,t.jsx)("div",{className:o().dashboard,children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:o().header,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:e("dashboard.title")}),(0,t.jsx)("p",{children:e("dashboard.subtitle")})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,t.jsxs)(r(),{href:"/dashboard/settings",className:o().refreshBtn,children:[(0,t.jsx)(c.VSk,{}),e("dashboard.settings")]}),(0,t.jsxs)("button",{onClick:j,className:o().refreshBtn,disabled:m,children:[(0,t.jsx)(c.jTZ,{className:m?o().spinning:""}),e("dashboard.refresh")]})]})]}),(0,t.jsxs)("div",{className:o().statsGrid,children:[(0,t.jsxs)("div",{className:o().statCard,children:[(0,t.jsx)("div",{className:"".concat(o().statIcon," ").concat(o().primary),children:(0,t.jsx)(c.jH2,{})}),(0,t.jsxs)("div",{className:o().statInfo,children:[(0,t.jsx)("span",{className:o().statValue,children:(0,l.ZV)(g.posts)}),(0,t.jsx)("span",{className:o().statLabel,children:e("dashboard.blogPosts")})]})]}),(0,t.jsxs)("div",{className:o().statCard,children:[(0,t.jsx)("div",{className:"".concat(o().statIcon," ").concat(o().success),children:(0,t.jsx)(c.usP,{})}),(0,t.jsxs)("div",{className:o().statInfo,children:[(0,t.jsx)("span",{className:o().statValue,children:(0,l.ZV)(g.reviews)}),(0,t.jsx)("span",{className:o().statLabel,children:e("dashboard.customerReviews")})]})]}),(0,t.jsxs)("div",{className:o().statCard,children:[(0,t.jsx)("div",{className:"".concat(o().statIcon," ").concat(o().info),children:(0,t.jsx)(c.Vap,{})}),(0,t.jsxs)("div",{className:o().statInfo,children:[(0,t.jsx)("span",{className:o().statValue,children:(0,l.ZV)(g.views)}),(0,t.jsx)("span",{className:o().statLabel,children:e("dashboard.blogViews")})]})]}),(0,t.jsxs)(r(),{href:"/dashboard/subscribers",className:o().statCard,style:{textDecoration:"none"},children:[(0,t.jsx)("div",{className:"".concat(o().statIcon," ").concat(o().warning),children:(0,t.jsx)(c.pHD,{})}),(0,t.jsxs)("div",{className:o().statInfo,children:[(0,t.jsx)("span",{className:o().statValue,children:(0,l.ZV)(g.subscribers)}),(0,t.jsx)("span",{className:o().statLabel,children:e("dashboard.newsletterSubscribers")})]})]})]}),(0,t.jsxs)("div",{className:o().quickLinks,children:[(0,t.jsxs)(r(),{href:"/dashboard/clients",className:o().quickLinkCard,children:[(0,t.jsx)(c.cfS,{className:o().quickLinkIcon}),(0,t.jsx)("span",{children:e("dashboard.clients.title")})]}),(0,t.jsxs)(r(),{href:"/dashboard/brands",className:o().quickLinkCard,children:[(0,t.jsx)(c.QPV,{className:o().quickLinkIcon}),(0,t.jsx)("span",{children:e("dashboard.brands.title")})]})]}),(0,t.jsxs)("div",{className:o().mainGrid,children:[(0,t.jsxs)("div",{className:o().card,children:[(0,t.jsxs)("div",{className:o().cardHeader,children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(c.jH2,{}),e("dashboard.blogPosts")]}),(0,t.jsxs)(r(),{href:"/dashboard/blog/new",className:"btn btn-primary btn-sm",children:[(0,t.jsx)(c.GGD,{}),e("dashboard.newPost")]})]}),(0,t.jsx)("div",{className:o().contentList,children:m?(0,t.jsx)("div",{className:o().loading,children:e("dashboard.loading")}):0===s.length?(0,t.jsx)("div",{className:o().empty,children:e("dashboard.noPosts")}):s.map(a=>(0,t.jsxs)("div",{className:o().contentItem,children:[(0,t.jsxs)("div",{className:o().contentInfo,children:[(0,t.jsx)("h3",{children:a.title}),(0,t.jsxs)("div",{className:o().contentMeta,children:[(0,t.jsx)("span",{className:"".concat(o().badge," ").concat("published"===a.status?o().badgeSuccess:o().badgeWarning),children:u(a.status)}),(0,t.jsx)("span",{className:o().date,children:new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),(0,t.jsx)("div",{className:o().contentActions,children:(0,t.jsxs)(r(),{href:"/dashboard/blog/".concat(a.id),className:o().actionBtn,children:[(0,t.jsx)(c.SG1,{}),e("dashboard.edit")]})})]},a.id))}),(0,t.jsx)(r(),{href:"/dashboard/blog",className:o().viewAll,children:e("dashboard.viewAllPosts")})]}),(0,t.jsxs)("div",{className:o().card,children:[(0,t.jsxs)("div",{className:o().cardHeader,children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(c.usP,{}),e("dashboard.customerReviews")]}),(0,t.jsxs)(r(),{href:"/dashboard/reviews/new",className:"btn btn-primary btn-sm",children:[(0,t.jsx)(c.GGD,{}),e("dashboard.newReview")]})]}),(0,t.jsx)("div",{className:o().contentList,children:m?(0,t.jsx)("div",{className:o().loading,children:e("dashboard.loading")}):0===_.length?(0,t.jsx)("div",{className:o().empty,children:e("dashboard.noReviews")}):_.map(a=>(0,t.jsxs)("div",{className:o().contentItem,children:[(0,t.jsxs)("div",{className:o().contentInfo,children:[(0,t.jsx)("h3",{children:a.customer_name}),(0,t.jsx)("p",{className:o().company,children:a.company_name}),(0,t.jsxs)("div",{className:o().contentMeta,children:[(0,t.jsx)("div",{className:o().rating,children:[...Array(a.rating)].map((a,e)=>(0,t.jsx)(c.usP,{className:o().starFilled},e))}),(0,t.jsx)("span",{className:"".concat(o().badge," ").concat("published"===a.status?o().badgeSuccess:o().badgeWarning),children:u(a.status)})]})]}),(0,t.jsx)("div",{className:o().contentActions,children:(0,t.jsxs)(r(),{href:"/dashboard/reviews/".concat(a.id),className:o().actionBtn,children:[(0,t.jsx)(c.SG1,{}),e("dashboard.edit")]})})]},a.id))}),(0,t.jsx)(r(),{href:"/dashboard/reviews",className:o().viewAll,children:e("dashboard.viewAllReviews")})]})]})]})})}},3640:(a,e,s)=>{"use strict";function t(a){let e="string"==typeof a?parseFloat(a):a;return isNaN(e)?String(a):new Intl.NumberFormat("en-US").format(e)}s.d(e,{ZV:()=>t})},5662:(a,e,s)=>{Promise.resolve().then(s.bind(s,116))},9513:a=>{a.exports={dashboard:"page_dashboard__kNuGp",header:"page_header__hMSOF",statsGrid:"page_statsGrid___pqlK",statCard:"page_statCard__tKMY7",statIcon:"page_statIcon__jUdPR",primary:"page_primary__NNHI1",success:"page_success__DCYIY",warning:"page_warning__Pz2zu",info:"page_info__xXc7j",statInfo:"page_statInfo__hVtfu",statValue:"page_statValue__Ngvpx",statLabel:"page_statLabel__xyDJ2",mainGrid:"page_mainGrid__ORtMb",card:"page_card__FwMm5",cardHeader:"page_cardHeader__BKx4i",viewAll:"page_viewAll__xro1p",contentList:"page_contentList__LWyb1",contentItem:"page_contentItem__s3nz3",contentInfo:"page_contentInfo__GqgZj",company:"page_company__J1Du_",contentMeta:"page_contentMeta__hRWwu",badge:"page_badge__v8rDn",badgeSuccess:"page_badgeSuccess__ztJF8",badgeWarning:"page_badgeWarning___M_v2",date:"page_date__Y5SEs",rating:"page_rating__MjYmM",starFilled:"page_starFilled__XcnEJ",contentActions:"page_contentActions__o4MHh",actionBtn:"page_actionBtn__e1gK9",backLink:"page_backLink__10O1e",refreshBtn:"page_refreshBtn__C3waT",spinning:"page_spinning__st8Jr",spin:"page_spin__83Eln",loading:"page_loading__eqTbn",empty:"page_empty__7ZIVI",filters:"page_filters__BOlgE",filterBtn:"page_filterBtn__cEAgg",active:"page_active__sBdJ3",tableCard:"page_tableCard__sV85v",table:"page_table__t8tSi",titleCell:"page_titleCell__Zjy1Z",tableActions:"page_tableActions__qU_ki",danger:"page_danger__9lHzf",formCard:"page_formCard__N3yfk",formGroup:"page_formGroup__uGATh",formRow:"page_formRow__zaa3I",label:"page_label__iBEwE",input:"page_input__olAOO",select:"page_select__Ojb9E",textarea:"page_textarea__GBXO6",formActions:"page_formActions__w_nBD",errorAlert:"page_errorAlert__nHXMP",ratingInput:"page_ratingInput__RTdqJ",starBtn:"page_starBtn__brrSR",settingsGrid:"page_settingsGrid__OQYlm",settingsCard:"page_settingsCard__bTeJ5",settingsCardHeader:"page_settingsCardHeader__ycHQi",settingsIcon:"page_settingsIcon__Unn27",settingsForm:"page_settingsForm__Qyddf",settingsDesc:"page_settingsDesc__vE_u4",adminEmail:"page_adminEmail__4y_Xw",successAlert:"page_successAlert__AdipL",modal:"page_modal__uDDBs",modalContent:"page_modalContent__G_uO1",modalHeader:"page_modalHeader__jjc3E",closeBtn:"page_closeBtn__kFI75",tableWrapper:"page_tableWrapper__kYU93",logoPreview:"page_logoPreview__AI5jC",noLogo:"page_noLogo__V5uAu",typeLabel:"page_typeLabel__c2EaY",actionBtns:"page_actionBtns__nJt4M",quickLinks:"page_quickLinks__e8ky5",quickLinkCard:"page_quickLinkCard__RdZfR",quickLinkIcon:"page_quickLinkIcon__qA_f1",uploadArea:"page_uploadArea__y6Bt7",uploadPlaceholder:"page_uploadPlaceholder__MW9IE",uploadPreview:"page_uploadPreview__4V_e3",removePreview:"page_removePreview__XH8IV",fileInput:"page_fileInput__Vb3vt",spinner:"page_spinner__STN52"}}},a=>{a.O(0,[5071,6603,3193,3945,8441,1255,7358],()=>a(a.s=5662)),_N_E=a.O()}]);