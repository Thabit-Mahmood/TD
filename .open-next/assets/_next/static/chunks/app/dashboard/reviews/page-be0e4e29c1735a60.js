(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1727],{143:(e,a,t)=>{"use strict";t.d(a,{o:()=>s.useLanguage});var s=t(3945)},2370:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var s=t(5155),n=t(2115),_=t(2619),r=t.n(_),i=t(2694),d=t(143),c=t(9513),l=t.n(c);function o(){let{t:e,language:a,isRTL:t}=(0,d.o)(),[_,c]=(0,n.useState)([]),[o,p]=(0,n.useState)(!0),[g,h]=(0,n.useState)("all"),b=async()=>{p(!0);try{let e=await fetch("all"===g?"/api/admin/reviews":"/api/admin/reviews?status=".concat(g)),a=await e.json();c(a.reviews||[])}catch(e){}finally{p(!1)}};(0,n.useEffect)(()=>{b()},[g]);let m=async a=>{if(confirm(e("dashboard.confirmDeleteReview")))try{(await fetch("/api/admin/reviews/".concat(a),{method:"DELETE"})).ok&&c(_.filter(e=>e.id!==a))}catch(e){}},u=t?i.dyV:i.kRp;return(0,s.jsx)("div",{className:l().dashboard,children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:l().header,children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(r(),{href:"/dashboard",className:l().backLink,children:[(0,s.jsx)(u,{}),e("dashboard.backToDashboard")]}),(0,s.jsx)("h1",{children:e("dashboard.reviewsManagement")})]}),(0,s.jsxs)(r(),{href:"/dashboard/reviews/new",className:"btn btn-primary",children:[(0,s.jsx)(i.GGD,{}),e("dashboard.newReview")]})]}),(0,s.jsxs)("div",{className:l().filters,children:[(0,s.jsx)("button",{className:"".concat(l().filterBtn," ").concat("all"===g?l().active:""),onClick:()=>h("all"),children:e("dashboard.reviews.filterAll")}),(0,s.jsx)("button",{className:"".concat(l().filterBtn," ").concat("published"===g?l().active:""),onClick:()=>h("published"),children:e("dashboard.reviews.filterPublished")}),(0,s.jsx)("button",{className:"".concat(l().filterBtn," ").concat("pending"===g?l().active:""),onClick:()=>h("pending"),children:e("dashboard.reviews.filterPending")})]}),(0,s.jsx)("div",{className:l().tableCard,children:o?(0,s.jsx)("div",{className:l().loading,children:e("dashboard.loading")}):0===_.length?(0,s.jsxs)("div",{className:l().empty,children:[(0,s.jsx)("p",{children:e("dashboard.noReviews")}),(0,s.jsx)(r(),{href:"/dashboard/reviews/new",className:"btn btn-primary",children:e("dashboard.addNewReview")})]}):(0,s.jsxs)("table",{className:l().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:e("dashboard.reviews.tableCustomer")}),(0,s.jsx)("th",{children:e("dashboard.reviews.tableCompany")}),(0,s.jsx)("th",{children:e("dashboard.reviews.tableRating")}),(0,s.jsx)("th",{children:e("dashboard.reviews.tableStatus")}),(0,s.jsx)("th",{children:e("dashboard.reviews.tableDate")}),(0,s.jsx)("th",{children:e("dashboard.reviews.tableActions")})]})}),(0,s.jsx)("tbody",{children:_.map(a=>{var t;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:l().titleCell,children:[(0,s.jsx)("strong",{children:a.customer_name}),a.position&&(0,s.jsx)("p",{children:a.position})]})}),(0,s.jsx)("td",{children:a.company_name||"-"}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:l().rating,children:[...Array(a.rating)].map((e,a)=>(0,s.jsx)(i.usP,{className:l().starFilled},a))})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"".concat(l().badge," ").concat("published"===a.status?l().badgeSuccess:l().badgeWarning),children:(t=a.status,({pending:e("dashboard.status.pending"),published:e("dashboard.status.published"),rejected:e("dashboard.status.rejected")})[t]||t)})}),(0,s.jsx)("td",{children:new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:l().tableActions,children:[(0,s.jsx)(r(),{href:"/dashboard/reviews/".concat(a.id),className:l().actionBtn,children:(0,s.jsx)(i.SG1,{})}),(0,s.jsx)("button",{onClick:()=>m(a.id),className:"".concat(l().actionBtn," ").concat(l().danger),children:(0,s.jsx)(i.IXo,{})})]})})]},a.id)})})]})})]})})}},9513:e=>{e.exports={dashboard:"page_dashboard__kNuGp",header:"page_header__hMSOF",statsGrid:"page_statsGrid___pqlK",statCard:"page_statCard__tKMY7",statIcon:"page_statIcon__jUdPR",primary:"page_primary__NNHI1",success:"page_success__DCYIY",warning:"page_warning__Pz2zu",info:"page_info__xXc7j",statInfo:"page_statInfo__hVtfu",statValue:"page_statValue__Ngvpx",statLabel:"page_statLabel__xyDJ2",mainGrid:"page_mainGrid__ORtMb",card:"page_card__FwMm5",cardHeader:"page_cardHeader__BKx4i",viewAll:"page_viewAll__xro1p",contentList:"page_contentList__LWyb1",contentItem:"page_contentItem__s3nz3",contentInfo:"page_contentInfo__GqgZj",company:"page_company__J1Du_",contentMeta:"page_contentMeta__hRWwu",badge:"page_badge__v8rDn",badgeSuccess:"page_badgeSuccess__ztJF8",badgeWarning:"page_badgeWarning___M_v2",date:"page_date__Y5SEs",rating:"page_rating__MjYmM",starFilled:"page_starFilled__XcnEJ",contentActions:"page_contentActions__o4MHh",actionBtn:"page_actionBtn__e1gK9",backLink:"page_backLink__10O1e",refreshBtn:"page_refreshBtn__C3waT",spinning:"page_spinning__st8Jr",spin:"page_spin__83Eln",loading:"page_loading__eqTbn",empty:"page_empty__7ZIVI",filters:"page_filters__BOlgE",filterBtn:"page_filterBtn__cEAgg",active:"page_active__sBdJ3",tableCard:"page_tableCard__sV85v",table:"page_table__t8tSi",titleCell:"page_titleCell__Zjy1Z",tableActions:"page_tableActions__qU_ki",danger:"page_danger__9lHzf",formCard:"page_formCard__N3yfk",formGroup:"page_formGroup__uGATh",formRow:"page_formRow__zaa3I",label:"page_label__iBEwE",input:"page_input__olAOO",select:"page_select__Ojb9E",textarea:"page_textarea__GBXO6",formActions:"page_formActions__w_nBD",errorAlert:"page_errorAlert__nHXMP",ratingInput:"page_ratingInput__RTdqJ",starBtn:"page_starBtn__brrSR",settingsGrid:"page_settingsGrid__OQYlm",settingsCard:"page_settingsCard__bTeJ5",settingsCardHeader:"page_settingsCardHeader__ycHQi",settingsIcon:"page_settingsIcon__Unn27",settingsForm:"page_settingsForm__Qyddf",settingsDesc:"page_settingsDesc__vE_u4",adminEmail:"page_adminEmail__4y_Xw",successAlert:"page_successAlert__AdipL",modal:"page_modal__uDDBs",modalContent:"page_modalContent__G_uO1",modalHeader:"page_modalHeader__jjc3E",closeBtn:"page_closeBtn__kFI75",tableWrapper:"page_tableWrapper__kYU93",logoPreview:"page_logoPreview__AI5jC",noLogo:"page_noLogo__V5uAu",typeLabel:"page_typeLabel__c2EaY",actionBtns:"page_actionBtns__nJt4M",quickLinks:"page_quickLinks__e8ky5",quickLinkCard:"page_quickLinkCard__RdZfR",quickLinkIcon:"page_quickLinkIcon__qA_f1",uploadArea:"page_uploadArea__y6Bt7",uploadPlaceholder:"page_uploadPlaceholder__MW9IE",uploadPreview:"page_uploadPreview__4V_e3",removePreview:"page_removePreview__XH8IV",fileInput:"page_fileInput__Vb3vt",spinner:"page_spinner__STN52"}},9739:(e,a,t)=>{Promise.resolve().then(t.bind(t,2370))}},e=>{e.O(0,[5071,6603,3193,3945,8441,1255,7358],()=>e(e.s=9739)),_N_E=e.O()}]);